<div class='container'>
  <div class='row'>
    <div class="col-sm-12 col-md-8 col-lg-5 px-5 px-sm-0 mx-auto">
  		<h1>Editing Book</h1>
  		<%= render "layouts/errors", obj: @book %>

      <%= form_with model: @book, local: true do |f| %>
        <div class="form-group">
          <%= f.label :title %>
          <%= f.text_field :title, class: 'form-control book_title' %>
        </div>
        <div class="form-group">
          <%= f.label :opinion %>
          <%= f.text_area :body, class: 'form-control book_body' %>
        </div>
        <div class="form-group">
          <div id="star-rate<%= @book.id %>"></div>
          <script>
            $('#star-rate<%= @book.id %>').empty();  // 星の数が増えるのを防ぐ。
            $('#star-rate<%= @book.id %>').raty({
              size:      36,
              starHalf:  '<%= asset_path('star-half.png') %>',
              starOff:   '<%= asset_path('star-off.png') %>',
              starOn:    '<%= asset_path('star-on.png') %>',
              half:      true,
              readOnly:  true,  // 読み取り専用で編集できないようにする。
              score:     <%= @book.star %>,
            });
          </script>
        </div>
        <div class="form-group">
          <%= f.submit class: 'btn btn-success' %>
        </div>
      <% end %>

  		<%= link_to 'Show', @book %> |
  		<%= link_to 'Back', books_path, class: "back" %>
  </div>
</div>